(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[6],{100:function(t,e,i){"use strict";t.exports=function t(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var n,a,c;if(Array.isArray(e)){if((n=e.length)!=i.length)return!1;for(a=n;0!==a--;)if(!t(e[a],i[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if((n=(c=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(a=n;0!==a--;)if(!Object.prototype.hasOwnProperty.call(i,c[a]))return!1;for(a=n;0!==a--;){var o=c[a];if(!t(e[o],i[o]))return!1}return!0}return e!==e&&i!==i}},108:function(t,e,i){"use strict";var n=i(107),a=i(135),c=i(2),o=(i(125),i(126),i(20));e.a=function(t){var e=t.children,i=t.message,r=t.hold,s=void 0!==r&&r,l=t.childProps,d=void 0===l?{}:l,u=Object(c.useCallback)((function(t){return t.stopPropagation()}),[]);return Object(o.jsx)(a.a,{className:"Tooltip",content:"string"===typeof i?Object(o.jsx)("p",{className:"message",dangerouslySetInnerHTML:{__html:i.split("\n").map((function(t){return"<div>".concat(t,"</div>")})).join("")}}):i,arrow:!1,animation:"shift-away",touch:!s||["hold",300],children:Object(o.jsx)("div",Object(n.a)(Object(n.a)({onClick:u},d),{},{children:e}))})}},142:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return r}));var n=i(104),a=i(20),c=function(){return Object(a.jsxs)("div",{className:"Icons",children:[Object(a.jsx)(n.s,{size:16}),Object(a.jsx)("span",{children:"7D"})]})},o=function(){return Object(a.jsxs)("div",{className:"Icons",children:[Object(a.jsx)(n.q,{size:16}),Object(a.jsx)("span",{children:"1L"})]})},r=function(){return Object(a.jsx)("div",{className:"Icons",children:Object(a.jsx)(n.p,{size:16})})}},143:function(t,e,i){!function(t,e){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var n="Left",a="Right",c="Up",o="Down",r={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},s={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},l="mousemove",d="mouseup",u="touchend",v="touchmove",h="touchstart";function p(t,e,i,r){return t>e?i>0?a:n:r>0?o:c}function f(t,e){if(0===e)return t;var i=Math.PI/180*e;return[t[0]*Math.cos(i)+t[1]*Math.sin(i),t[1]*Math.cos(i)-t[0]*Math.sin(i)]}function j(t,e){var n=function(e){e&&"touches"in e&&e.touches.length>1||t((function(t,n){n.trackMouse&&(document.addEventListener(l,a),document.addEventListener(d,r));var c="touches"in e?e.touches[0]:e,o=f([c.clientX,c.clientY],n.rotationAngle);return i({},t,s,{initial:[].concat(o),xy:o,start:e.timeStamp||0})}))},a=function(e){t((function(t,n){if("touches"in e&&e.touches.length>1)return t;var a="touches"in e?e.touches[0]:e,c=f([a.clientX,a.clientY],n.rotationAngle),o=c[0],r=c[1],s=o-t.xy[0],l=r-t.xy[1],d=Math.abs(s),u=Math.abs(l),v=(e.timeStamp||0)-t.start,h=Math.sqrt(d*d+u*u)/(v||1),j=[s/(v||1),l/(v||1)];if(d<n.delta&&u<n.delta&&!t.swiping)return t;var b=p(d,u,s,l),O={absX:d,absY:u,deltaX:s,deltaY:l,dir:b,event:e,first:t.first,initial:t.initial,velocity:h,vxvy:j};O.first&&n.onSwipeStart&&n.onSwipeStart(O),n.onSwiping&&n.onSwiping(O);var m=!1;return(n.onSwiping||n.onSwiped||"onSwiped"+b in n)&&(m=!0),m&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&e.cancelable&&e.preventDefault(),i({},t,{first:!1,eventData:O,swiping:!0})}))},c=function(e){t((function(t,n){var a;if(t.swiping&&t.eventData){a=i({},t.eventData,{event:e}),n.onSwiped&&n.onSwiped(a);var c="onSwiped"+a.dir;c in n&&n[c](a)}else n.onTap&&n.onTap({event:e});return i({},t,s,{eventData:a})}))},o=function(){document.removeEventListener(l,a),document.removeEventListener(d,r)},r=function(t){o(),c(t)},j=function(t,e){var i=function(){};if(t&&t.addEventListener){var o=[[h,n],[v,a],[u,c]];o.forEach((function(i){var n=i[0],a=i[1];return t.addEventListener(n,a,{passive:e})})),i=function(){return o.forEach((function(e){var i=e[0],n=e[1];return t.removeEventListener(i,n)}))}}return i},b={ref:function(e){null!==e&&t((function(t,n){if(t.el===e)return t;var a={};return t.el&&t.el!==e&&t.cleanUpTouch&&(t.cleanUpTouch(),a.cleanUpTouch=void 0),n.trackTouch&&e&&(a.cleanUpTouch=j(e,!n.preventDefaultTouchmoveEvent)),i({},t,{el:e},a)}))}};return e.trackMouse&&(b.onMouseDown=n),[b,j]}function b(t,e,n){var a={};return!e.trackTouch&&t.cleanUpTouch?(t.cleanUpTouch(),a.cleanUpTouch=void 0):e.trackTouch&&!t.cleanUpTouch&&t.el&&(a.cleanUpTouch=n(t.el,!e.preventDefaultTouchmoveEvent)),i({},t,a)}function O(t){var n=t.trackMouse,a=e.useRef(i({},s)),c=e.useRef(i({},r));c.current=i({},r,t);var o=e.useMemo((function(){return j((function(t){return a.current=t(a.current,c.current)}),{trackMouse:n})}),[n]),l=o[0],d=o[1];return a.current=b(a.current,c.current,d),l}t.DOWN=o,t.LEFT=n,t.RIGHT=a,t.UP=c,t.useSwipeable=O}(e,i(2))},234:function(t,e,i){"use strict";i.r(e);var n=i(107),a=i(54),c=i(51),o=i(10),r=i(122),s=i(20),l=function(t){var e=t.width,i=t.statistic,n=window.innerWidth;e||(e=n>=769?480:n);var a=(n>=769?.9:1)*e/.885,c=42+o.l+a;return Object(s.jsxs)(r.a,{viewBox:"0 0 ".concat(e," ").concat(c),height:c,width:e,speed:2,backgroundColor:o.x[i].color,children:[Object(s.jsx)("circle",{cx:.4*e,cy:c/2,r:"5"}),Object(s.jsx)("circle",{cx:.5*e,cy:c/2,r:"5"}),Object(s.jsx)("circle",{cx:.6*e,cy:c/2,r:"5"})]})},d=i(142),u=i(110),v=i(25),h=i(100),p=i.n(h),f=i(2),j=i(294),b=function(t){var e,i=t.currentStatistic,n=t.isPerLakh,a=t.delta7Mode,c=t.mapStatistic,r=t.setMapStatistic,l=t.isDistrictView,d=t.hideDistrictTestData,h=t.hideVaccinated,p=t.zoneColor,b=Object(j.a)().t,O=Object(f.useRef)(),m=o.x[i],g=Object(f.useMemo)((function(){var t=o.z.filter((function(t){var e,i;return(!l||"tested"!==(null===(e=o.x[t])||void 0===e?void 0:e.category)||!d)&&("vaccinated"!==(null===(i=o.x[t])||void 0===i?void 0:i.category)||!h)}));return t.includes(i)?t:[i].concat(Object(u.a)(t))}),[i,l,d,h]),x=Object(f.useCallback)((function(t){r(t.target.value)}),[r]);Object(f.useEffect)((function(){var t,e=document.createElement("select"),i=document.createElement("option");i.textContent=null===(t=o.x[c])||void 0===t?void 0:t.displayName,e.style.cssText+="\n      visibility: hidden;\n      position: fixed;\n      ",e.appendChild(i),O.current.after(e);var n=e.getBoundingClientRect().width;n>0&&(O.current.style.width="".concat(n+2,"px")),e.remove()}),[c]);var T=p||(null===m||void 0===m?void 0:m.color);return Object(s.jsxs)("div",{className:"StatisticDropdown",children:[Object(s.jsx)("select",{ref:O,value:i,className:i,style:{color:T,background:T+"20",outlineColor:T+"40"},onChange:x,children:g.map((function(t){var e=o.x[t];return Object(s.jsx)("option",{value:t,children:b(Object(v.a)(null===e||void 0===e?void 0:e.displayName))},t)}))}),Object(s.jsx)("span",{children:"".concat(n&&!(null===m||void 0===m?void 0:m.nonLinear)&&"population"!==c?" ".concat(b("per lakh")):"").concat(a&&(null===m||void 0===m?void 0:m.showDelta)||"delta7"===(null===m||void 0===m||null===(e=m.tableConfig)||void 0===e?void 0:e.type)?" ".concat(b("in last 7 days")):"")})]})},O=function(t,e){return!!p()(t.currentStatistic,e.currentStatistic)&&(!!p()(t.isPerLakh,e.isPerLakh)&&(!!p()(t.delta7Mode,e.delta7Mode)&&(!!p()(t.mapStatistic,e.mapStatistic)&&(!!p()(t.isDistrictView,e.isDistrictView)&&(!!p()(t.hideDistrictTestData,e.hideDistrictTestData)&&(!!p()(t.hideVaccinated,e.hideVaccinated)&&!!p()(t.zoneColor,e.zoneColor)))))))},m=Object(f.memo)(b,O),g=i(108),x=i(104),T=i(102),S=i.n(T),y=i(113),C=i(5),w=i(106),D=i(143),k=i(289),N=Object(f.lazy)((function(){return Object(v.k)((function(){return Promise.all([i.e(1),i.e(14),i.e(42)]).then(i.bind(null,298))}))}));function M(t){var e,i,r,u,h=this,p=t.stateCode,b=void 0===p?"TT":p,O=t.data,T=t.mapStatistic,M=t.setMapStatistic,E=t.regionHighlighted,L=t.setRegionHighlighted,I=t.anchor,U=t.setAnchor,R=t.expandTable,P=void 0!==R&&R,V=t.lastUpdatedDate,H=t.hideDistrictData,z=void 0!==H&&H,A=t.hideDistrictTestData,B=void 0===A||A,Y=t.hideVaccinated,q=void 0!==Y&&Y,F=Object(j.a)().t,X=Object(f.useRef)(),_=Object(k.a)().width,W=Object(f.useState)(o.p.DISTRICTS),J=Object(c.a)(W,2),G=J[0],K=J[1],Q=Object(f.useState)(!1),Z=Object(c.a)(Q,2),$=Z[0],tt=Z[1],et=Object(f.useState)(!1),it=Object(c.a)(et,2),nt=it[0],at=it[1],ct=o.m[b],ot=ct.mapType===o.o.COUNTRY?O:Object(a.a)({},b,O[b]),rt=o.x[T],st=G===o.p.DISTRICTS&&(ct.mapType===o.o.STATE||!z&&!(B&&"tested"===(null===rt||void 0===rt?void 0:rt.category))),lt=Object(f.useMemo)((function(){var t,e,i=(E.districtName?null===(t=O[E.stateCode])||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[E.districtName]:O[E.stateCode])||{};return Object(y.a)(i,(function(t){t.name=E.districtName||o.w[E.stateCode]}))}),[O,E.stateCode,E.districtName]),dt=Object(f.useCallback)((function(){var t=o.x[T];(null===t||void 0===t?void 0:t.nonLinear)||"population"===T||tt((function(t){return!t}))}),[T,tt]),ut=Object(f.useCallback)((function(){var t=G===o.p.DISTRICTS?o.p.STATES:o.p.DISTRICTS;t===o.p.STATES&&L({stateCode:E.stateCode,districtName:null}),K(t)}),[G,E.stateCode,K,L]),vt=Object(C.g)(),ht=Object(f.useRef)();Object(f.useEffect)((function(){"#MapExplorer"===vt.location.hash&&ht.current.scrollIntoView()}),[vt]);var pt=Object(f.useMemo)((function(){var t=[];return[0,0,0,0,0,0,0].map((function(e,i){return t.push({animationDelay:"".concat(250*i,"ms")}),null})),t}),[]),ft=Object(f.useCallback)((function(t){var e,i=o.x[T],n=(null===i||void 0===i?void 0:i.showDelta)&&nt||"delta7"===(null===i||void 0===i||null===(e=i.tableConfig)||void 0===e?void 0:e.type)?"delta7":"total";return Object(v.h)(t,n,T,{expiredDate:V,normalizedByPopulationPer:$&&"population"!=T?"lakh":null,canBeNaN:!0})}),[T,$,V,nt]),jt=ft(lt);isNaN(jt)&&(jt="-");var bt=Object(w.useSpring)({total:jt,config:Object(n.a)({tension:250},o.t)}),Ot=Object(f.useMemo)((function(){return o.n.filter((function(t){var e;return!("vaccinated"===(null===(e=o.x[t])||void 0===e?void 0:e.category))||!q}))}),[q]),mt=Object(f.useCallback)((function(t){var e=Ot.indexOf(T),i=(Ot.length+e+t)%Ot.length;M(Ot[i])}),[T,Ot,M]),gt=Object(D.useSwipeable)({onSwipedLeft:mt.bind(this,1),onSwipedRight:mt.bind(this,-1)}),xt="population"!==T&&($||(null===rt||void 0===rt||null===(e=rt.mapConfig)||void 0===e?void 0:e.colorScale)||(null===rt||void 0===rt?void 0:rt.nonLinear))?o.q.CHOROPLETH:o.q.BUBBLES,Tt=Object(f.useCallback)((function(){(null===rt||void 0===rt?void 0:rt.showDelta)&&at((function(t){return!t}))}),[rt,at]),St="mapexplorer"===I||P&&_>=769,yt=Object(f.useCallback)((function(t){var e;return(null===rt||void 0===rt||null===(e=rt.mapConfig)||void 0===e?void 0:e.transformFn)?rt.mapConfig.transformFn(t):t}),[rt]),Ct=(null===rt||void 0===rt||null===(i=rt.mapConfig)||void 0===i?void 0:i.colorScale)?rt.mapConfig.colorScale(yt(jt)):"";return Object(s.jsxs)("div",{className:S()("MapExplorer",{stickied:St},{hidden:I&&"mapexplorer"!==I&&(!P||_<769)}),children:[Object(s.jsx)("div",{className:S()("anchor","fadeInUp",{stickied:St}),style:{display:_<769||_>=769&&P?"none":""},onClick:U&&U.bind(this,"mapexplorer"===I?null:"mapexplorer"),children:Object(s.jsx)(x.r,{})}),Object(s.jsxs)("div",{className:"panel",ref:ht,children:[Object(s.jsxs)("div",{className:"panel-left fadeInUp",style:pt[0],children:[Object(s.jsxs)("h2",{className:S()(T),style:{color:Ct||(null===rt||void 0===rt?void 0:rt.color)},children:[F(lt.name),lt.name===o.F&&" [".concat(F(o.w[E.stateCode]),"]")]}),E.stateCode&&Object(s.jsxs)("h1",{className:S()("district",T),style:{color:Ct||(null===rt||void 0===rt?void 0:rt.color)},children:[Object(s.jsx)(w.animated.div,{children:bt.total.to((function(t){return Object(v.e)(t,rt.format,T)}))}),Object(s.jsx)(m,{currentStatistic:T,statistics:Ot,isPerLakh:$,delta7Mode:nt,mapStatistic:T,setMapStatistic:M,isDistrictView:st,hideDistrictTestData:B,hideVaccinated:q,zoneColor:Ct})]})]}),Object(s.jsxs)("div",{className:S()("panel-right","is-".concat(T)),children:[Object(s.jsxs)("div",{className:"switch-type",children:[Object(s.jsx)(g.a,{message:"Last 7 day values",hold:!0,children:Object(s.jsx)("div",{className:S()("toggle","fadeInUp",{"is-highlighted":nt&&(null===rt||void 0===rt?void 0:rt.showDelta)||"delta7"===(null===rt||void 0===rt||null===(r=rt.tableConfig)||void 0===r?void 0:r.type),disabled:!(null===rt||void 0===rt?void 0:rt.showDelta)}),onClick:Tt,style:pt[1],children:Object(s.jsx)(d.a,{})})}),Object(s.jsx)(g.a,{message:"Per lakh people",hold:!0,children:Object(s.jsx)("div",{className:S()("toggle","fadeInUp",{"is-highlighted":!(null===rt||void 0===rt?void 0:rt.nonLinear)&&xt===o.q.CHOROPLETH,disabled:(null===rt||void 0===rt?void 0:rt.nonLinear)||"population"===T}),onClick:dt,style:pt[2],children:Object(s.jsx)(d.c,{})})}),ct.mapType===o.o.COUNTRY&&Object(s.jsx)(g.a,{message:"Toggle between states/districts",hold:!0,children:Object(s.jsx)("div",{className:S()("toggle","boundary fadeInUp",{"is-highlighted":st,disabled:z||"tested"===(null===rt||void 0===rt?void 0:rt.category)&&B}),onClick:ut,style:pt[3],children:Object(s.jsx)(x.p,{})})}),ct.mapType===o.o.STATE&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("div",{className:"toggle back fadeInUp",onClick:function(){vt.push("/#MapExplorer")},style:pt[4],children:Object(s.jsx)(x.b,{})})]})]}),Object(s.jsx)("div",{className:"switch-statistic fadeInUp",style:pt[5],children:Ot.map((function(t){return Object(s.jsx)("div",{className:S()("toggle","statistic-option","is-".concat(t),{"is-highlighted":T===t}),onClick:M.bind(h,t),children:Object(s.jsx)(x.i,{})},t)}))})]})]}),Object(s.jsx)("div",Object(n.a)(Object(n.a)({ref:X,className:"fadeInUp",style:pt[3]},gt),{},{children:T&&Object(s.jsx)(f.Suspense,{fallback:Object(s.jsx)(l,{className:"map-loader",width:null===(u=X.current)||void 0===u?void 0:u.clientWidth,statistic:T}),children:Object(s.jsx)(N,{data:ot,statistic:T,mapCode:b,isDistrictView:st,mapViz:xt,regionHighlighted:E,setRegionHighlighted:L,getMapStatistic:ft,transformStatistic:yt})})}))]})}var E=function(t,e){var i,n,a,c,o,r,s,l,d,u;return!!p()(t.stateCode,e.stateCode)&&(!!p()(t.regionHighlighted,e.regionHighlighted)&&(!!p()(t.mapStatistic,e.mapStatistic)&&(!!p()(t.anchor,e.anchor)&&(!!p()(t.expandTable,e.expandTable)&&(!!p()(t.hideDistrictData,e.hideDistrictData)&&(!!p()(t.hideDistrictTestData,e.hideDistrictTestData)&&(!!p()(t.hideVaccinated,e.hideVaccinated)&&(!!p()(null===(i=t.data)||void 0===i||null===(n=i.TT)||void 0===n||null===(a=n.meta)||void 0===a?void 0:a.last_updated,null===(c=e.data)||void 0===c||null===(o=c.TT)||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.last_updated)&&!!p()(null===(s=t.data)||void 0===s||null===(l=s.TT)||void 0===l?void 0:l.total,null===(d=e.data)||void 0===d||null===(u=d.TT)||void 0===u?void 0:u.total)))))))))};e.default=Object(f.memo)(M,E)}}]);
//# sourceMappingURL=6.cd54c77e.chunk.js.map